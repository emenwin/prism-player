# 产品需求文档（PRD）模板

- 版本：vX.Y
- 里程碑：M?（时间范围 YYYY-MM-DD ~ YYYY-MM-DD）
- 状态：Draft | Review | Approved | Deprecated
- 作者：@
- 最后更新：YYYY-MM-DD
- 相关文档：
  - TDD：`tdd/<platform>/...`（链接）
  - ADR：`docs/adr/NNNN-xxx.md`（链接）
  - Issue/PR：#

## 1. 背景与机会
- 业务动因 / 用户痛点 / 市场或合规驱动
- 目标用户与受影响范围

## 2. 目标与成功指标（Success Criteria）
- 量化目标（例如：DAU、转化率、留存、NPS、延迟/能耗等）
- 验收门槛（必须达到的下限）

## 3. 用户画像与场景
- 主要角色与设备环境（iOS/macOS/Android、网络、外设）
- 关键使用场景与频度

## 4. 用户故事与用例
- 作为 <角色>，我希望 <动作>，以便 <价值>。
- 用例列表（主流程/例外流程/边界条件）

## 5. 功能需求（FR）
- F-1 ...
- F-2 ...

## 6. 非功能需求（NFR）
- 性能：端到端延迟、吞吐、内存/CPU/能耗预算
- 可靠性：崩溃率、失败重试、离线能力
- 安全与隐私：权限、数据分级、存储/传输加密、合规
- 可观测性：日志、指标、追踪、告警
- 国际化：无硬编码字符串，本地化策略
- 可维护性：代码规范、Lint、模块边界

## 7. 约束与假设
- 平台限制、硬件能力、已有架构约束
- 关键外部依赖假设

## 8. 范围与非目标（Out of Scope）
- 本期交付内容
- 明确非目标（避免范围蔓延）

## 9. 交互与体验（可选）
- 线框/原型链接、关键交互稿
- 无障碍/可用性要求

## 10. 依赖、风险与缓解
- 外部依赖、并行团队、第三方库
- 主要风险及缓解策略

## 11. 发布与灰度
- 发布策略、开关与回滚
- 监控与验收流程

## 12. 参考与追踪（Traceability）
- 映射表：PRD → TDD/ADR → Issue/PR → 测试用例/夹具

## 附录
- 术语表、参考资料